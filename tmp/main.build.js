function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Logger=function(){function d(e){_classCallCheck(this,d);var t=e||{},r=t.monitor_selector,i=void 0===r?".track-clicks":r,n=t.print_target,a=void 0===n?"#console":n,o=t.report_method,s=void 0===o?"print":o,c=t.axios_config,l=void 0===c?{baseURL:this.getBaseURL(),timeout:1e3}:c,h=t.api_path,u=void 0===h?"/":h,f=t.gather_list,p=void 0===f?["timestamp","platform","page_url","referrer","href","contents"]:f;this.monitor_selector=i,this.print_target=a,this.report_method=s,this.axios_config=l,this.api_path=u,this.gather_list=p}return _createClass(d,[{key:"addEventListeners",value:function(){var r=this;document.querySelectorAll(this.monitor_selector).forEach(function(t){t.addEventListener("click",function(e){r.handleClick(e,t)}),t.addEventListener("auxclick",function(e){r.handleClick(e,t)})})}},{key:"handleClick",value:function(e,t){e.preventDefault();var r=this.getData(t);("print"===this.report_method?this.print(r):"post"===this.report_method&&this.postData(r),2===e.which)?window.open(t.href,"_blank").focus():window.location.href=t.href}},{key:"getData",value:function(t){var e=this.gather_list.map(function(e){switch(e){case"timestamp":return(new Date).toUTCString();case"platform":return platform.description;case"page_url":return window.location.href;case"referrer":return document.referrer?document.referrer:"Referrer Unavailable";case"href":return t.hasAttribute("href")?t.getAttribute("href"):"Href Unavailable";case"contents":return t.innerText;default:return""}});return _.zipObject(this.gather_list,e)}},{key:"getBaseURL",value:function(){var e=window.location;return"".concat(e.protocol,"//").concat(e.hostname).concat(e.port?":"+e.port:"","/")}},{key:"print",value:function(e){var t=document.querySelector(this.print_target);t.innerHTML=JSON.stringify(e,null,2),Prism.highlightElement(t)}},{key:"postData",value:function(e){axios.create(this.axios_config).post(this.api_path,e)}}]),d}();new Logger({monitor_selector:'a[href*="tel"], a[href*="mailto"]',report_method:"post",api_path:"/api/logger"}).addEventListeners();